function genderClickEvent(n){const t=document.getElementById(RdMale).checked,i=document.getElementById(RdFemale).checked;if(t&&i||!t&&!i)window.InsertOptToEmpSel(currentEmps);else{const t=currentEmps.filter(t=>t.Gender===n.currentTarget.value);window.InsertOptToEmpSel(t)}}function getEmployees(n,t,i,r){const u=new AjaxShortHandConfig(AjaxLoadMdMes,UrlGetEmployees,{corp:n,depts:t,deptNames:i,positions:r});AjaxPostShortHand(u,n=>{n.IsSuccess&&n.Result?(currentEmps=n.Result,window.InsertOptToEmpSel(n.Result),$(jqTbEmp).jqGrid("clearGridData").jqGrid("setGridParam",{data:n.Result,datatype:"local"}).trigger("reloadGrid")):console.log(n.Log)})}function getEmpPos(){return[{Code:0,Name:"None-Position"},{Code:1,Name:"Assistant Manager"},{Code:2,Name:"Assistant Staff"},{Code:3,Name:"Chief Manager"},{Code:4,Name:"Manager"},{Code:5,Name:"Normal Staff"},{Code:6,Name:"Normal Worker"},{Code:7,Name:"Professional Staff"},{Code:8,Name:"Simple Worker"},{Code:9,Name:"Supervisor"}]}function getCorporations(n){$.getJSON(n).done(n=>{console.log("dedicated"),console.log(n),n&&n.length>0&&n[0].CorpCode?(currentCorp=n[0].HrmCorpCode,getFactoriesByCorporation(UriApiFactory,n[0].CorpCode,1)):(console.log("There is not Corporation"),console.log(n))})}function insertOptToPosSel(n){const i=[];for(var t of n){const n={label:t.Name,title:t.Name,value:t.Name};i.push(n)}$(`#${SelPos}`).multiselect("dataprovider",i)}function insertOptToFacSel(n){const i=[];for(var t of n){const n={label:t.FactoryName,title:t.FactoryId,value:t.FactoryName};i.push(n)}$(`#${SelFactory}`).multiselect("dataprovider",i)}function getFactoriesByCorporation(n,t,i){const r=`${n}/?corporation=${t}&tenantId=${i}`;$.getJSON(r).done(function(n){n?(insertOptToFacSel(n),currentFactories=n):console.log("There is no factory.")})}function submitSearchEmpForm(n){n.preventDefault();console.log("Clicking OK button...");$(jqTbEmp).jqGrid("clearGridData");$(`#${SelEmp} option:selected`).map((n,t)=>{const i=window.CurrentEmpsInEmpSel.find(n=>n.EmployeeCode===t.value);return $(jqTbEmp).jqGrid("addRowData",n+1,i),i})}function getDeptCodesByFactory(){$.blockUI({message:AjaxWaitMes});$.post(UrlGetDeptCodesByFactory).done(n=>{n.IsSuccess&&n.Result?allSections=n.Result:console.error(n.Log)}).fail(n=>{console.log(`${n.statusText} ${n.status}`)}).always(()=>{$.unblockUI()})}function getSections(){$.blockUI({message:AjaxWaitMes});$.getJSON(UrlGetSections).done(n=>{n.IsSuccess&&n.Result&&console.log(n.Result)}).fail(n=>{console.log(`${n.statusText} ${n.status}`)}).always(()=>{$.unblockUI()})}function insertOptToSectionSel(n){const i=[];for(var t of n){const n={label:t.Section,title:t.FullName,value:t.DeptCode};i.push(n)}$(`#${SelSection}`).multiselect("dataprovider",i)}const SelFactory="selFactory",SelDept="selDept",SelPos="selPos",SelSkill="selSkill",SelSection="selSection",DivSelSection="divSelSection",SelEmp="selEmp",RdMale="rdMale",RdFemale="rdFemale",UriApiCstp=`${document.location.origin}/api/ApiCstp`,UriApiFactory=`${document.location.origin}/api/ApiFactory`,UrlGetDeptCodesByFactory="/MesLineAllocation/GetDeptCodesByFactory",UrlGetSections="",UrlGetEmployees="/Employee/GetEmployees",AjaxWaitMes="<h3>Please wait...<\/h3>",SearchEmpForm="searchEmpForm";var selectedFactoryCodes=[],currentFactories=[],allSections=[],FilteredSections=[],SelectedSections=[],selectedEmpPos=[],currentCorp=null,currentEmps=[],FilteredEmpsByPos=[];